<div class="mx-auto md:w-2/3 w-full flex">
  <div class="mx-auto">
    <% if notice.present? %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
    <% end %>

    <h1 class="text-5xl text-gray-100"><%= @listing.name %></h1>
    <% if @listing.images.any?  %>
      <div class="flex">
        <%= link_to @listing.images.first, target: "_new" do %>
          <%= image_tag @listing.images.first, class: "w-auto h-80 " %>
        <% end %>
      </div>
      <div class="grid grid-cols-4 gap-4">
        <% @listing.images[1..4].each do |image| %>
          <%= link_to image, target: "_new" do %>
            <%= image_tag image, class: "w-full h-20 object-cover " %>
          <% end %>
        <% end %>  
      </div>

      
    <% end %>  

    <div class="mt-8 w-full grid grid-cols-2 lg:grid-cols-3 gap-8">
      
      <div class="rounded-lg w-full h-40 bg-white flex flex-col items-center justify-center">
        <span class="text-xl "> Price</span>
        <span class="text-3xl "> <%= number_to_currency @listing.price %></span>
      </div>

    
      <div class="rounded-lg w-full h-40 bg-white flex flex-col items-center justify-center">
        <span class="text-xl "> Zipcode</span>
        <span class="text-3xl "> <%=  @listing.user.zipcode %></span>
      </div>
    </div>

      <div class="mt-8 flex flex-col">
        <span class="text-xl text-gray-100"> To purchase please contact me</span>
        
        <div class="flex items-center gap-2"> 
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"    class="size-6 text-indigo-50">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
          </svg>
          <span class="text-lg text-gray-200"> <%= @listing.user.email_address %></span>
        </div>

        <div class="flex items-center gap-2"> 
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-indigo-50">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" />
          </svg>
          <span class="text-lg text-gray-200"> <%= @listing.user.phone %></span>
        </div>
        
        
      </div>


    <br/>    
    <%= link_to "Back to listings", listings_path, class: "rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
    <% if Current.user == @listing.user  %>
      <%= link_to "Edit this listing", edit_listing_path(@listing), class: " ml-2 mt-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
    
      <div class="inline-block ml-2">
        <%= button_to "Destroy this listing", @listing, method: :delete, class: "mt-2 rounded-lg py-3 px-5 bg-gray-100 font-medium" %>
      </div>
    <% end %>

  </div>
</div>
